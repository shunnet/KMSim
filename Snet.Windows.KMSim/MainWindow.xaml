<snet:WindowBase
    x:Class="Snet.Windows.KMSim.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:edit="http://icsharpcode.net/sharpdevelop/avalonedit"
    xmlns:h="clr-namespace:Snet.Windows.Controls.handler;assembly=Snet.Windows.Controls"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:local="clr-namespace:Snet.Windows.KMSim"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:snet="https://shunnet.top"
    xmlns:ui="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:uis="http://schemas.lepo.co/wpfui/2022/xaml"
    Title="{Binding SystemTitle}"
    Width="1100"
    Height="700"
    snet:ResxLocalizationProvider.DefaultAssembly="Snet.Windows.KMSim"
    snet:ResxLocalizationProvider.DefaultDictionary="Language"
    Icon="/Icon.ico"
    LoadAnimationEnabled="true"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Menu FontSize="14">
            <uis:MenuItem Header="{snet:Loc 文件}" Icon="{uis:SymbolIcon Document20, Filled=True}">
                <uis:MenuItem
                    Command="{Binding New}"
                    Header="{snet:Loc 新建}"
                    Icon="{uis:SymbolIcon Symbol=FormNew20,
                                          Filled=True}"
                    InputGestureText="CTRL+N" />
                <uis:MenuItem
                    Command="{Binding Open}"
                    Header="{snet:Loc 打开}"
                    Icon="{uis:SymbolIcon Symbol=FolderOpen20,
                                          Filled=True}"
                    InputGestureText="CTRL+O" />
                <uis:MenuItem
                    Command="{Binding Save}"
                    Header="{snet:Loc 保存}"
                    Icon="{uis:SymbolIcon Symbol=Save20,
                                          Filled=True}"
                    InputGestureText="CTRL+S" />
                <Separator />
                <uis:MenuItem
                    Command="{Binding Close}"
                    Header="{snet:Loc 关闭}"
                    Icon="{uis:SymbolIcon Symbol=ClosedCaptionOff20,
                                          Filled=True}" />
            </uis:MenuItem>
            <uis:MenuItem
                Command="{Binding Start}"
                Foreground="{DynamicResource PaletteGreenBrush}"
                Header="{x:Null}"
                Icon="{uis:SymbolIcon Symbol=Play20,
                                      Filled=True}"
                ToolTip="{snet:Loc 开始}" />
            <uis:MenuItem
                Command="{Binding Stop}"
                Foreground="{DynamicResource PaletteRedBrush}"
                Header="{x:Null}"
                Icon="{uis:SymbolIcon Symbol=Stop20,
                                      Filled=True}"
                ToolTip="{snet:Loc 停止}" />
            <uis:MenuItem
                Command="{Binding Retry}"
                Foreground="{DynamicResource PaletteBlueBrush}"
                Header="{x:Null}"
                Icon="{uis:SymbolIcon Symbol=ArrowClockwise20,
                                      Filled=True}"
                ToolTip="{snet:Loc 重试}" />
            <uis:MenuItem Header="{snet:Loc 帮助}" Icon="{uis:SymbolIcon Symbol=ChatHelp20, Filled=True}">
                <uis:MenuItem
                    Command="{Binding Command}"
                    Header="{snet:Loc 命令}"
                    Icon="{uis:SymbolIcon Symbol=Comma20,
                                          Filled=True}" />
                <uis:MenuItem
                    Command="{Binding LeaveWord}"
                    Header="{snet:Loc 留言}"
                    Icon="{uis:SymbolIcon Symbol=SlideTextMultiple20,
                                          Filled=True}" />
                <uis:MenuItem
                    Command="{Binding About}"
                    Header="{snet:Loc 关于}"
                    Icon="{uis:SymbolIcon Symbol=Bookmark20,
                                          Filled=True}" />
                <uis:MenuItem
                    Command="{Binding Exit}"
                    Header="{snet:Loc 退出}"
                    Icon="{uis:SymbolIcon Symbol=ArrowExportLtr20,
                                          Filled=True}" />
            </uis:MenuItem>
        </Menu>

        <GroupBox
            Grid.Row="1"
            Margin="6,0,6,6"
            Padding="0"
            ui:ElevationAssist.Elevation="Dp4"
            ui:GroupBoxAssist.HeaderPadding="7"
            Header="{Binding}"
            Style="{StaticResource MaterialDesignCardGroupBox}">
            <GroupBox.HeaderTemplate>
                <DataTemplate>
                    <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="auto" />
                        </Grid.ColumnDefinitions>
                        <ui:PackIcon
                            Grid.Column="0"
                            Padding="0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Kind="Code" />
                        <TextBlock
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Text="{snet:Loc 逻辑}"
                            TextAlignment="Center" />
                    </Grid>
                </DataTemplate>
            </GroupBox.HeaderTemplate>
            <edit:TextEditor x:Name="edit" h:EditBindingHandler.EditText="{Binding EditText}" />
        </GroupBox>

        <GroupBox
            Grid.Row="2"
            Height="200"
            Margin="6,0,6,6"
            Padding="0"
            ui:ElevationAssist.Elevation="Dp4"
            ui:GroupBoxAssist.HeaderPadding="7"
            Header="{Binding}"
            Style="{StaticResource MaterialDesignCardGroupBox}">
            <GroupBox.HeaderTemplate>
                <DataTemplate>
                    <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="auto" />
                        </Grid.ColumnDefinitions>
                        <ui:PackIcon
                            Grid.Column="0"
                            Padding="0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Kind="Message" />
                        <TextBlock
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Text="{snet:Loc 信息}"
                            TextAlignment="Center" />
                    </Grid>
                </DataTemplate>
            </GroupBox.HeaderTemplate>
            <Grid>
                <!--  清空按钮  -->
                <Button
                    Width="80"
                    Height="32"
                    Margin="0,-32,0,0"
                    Padding="0"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    ui:ButtonAssist.CornerRadius="0,5,0,0"
                    Command="{Binding Clear}"
                    Style="{StaticResource MaterialDesignFlatSecondaryButton}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="8" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="0">
                            <Image
                                Width="15"
                                Height="15"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Source="{DynamicResource Clear}"
                                Stretch="Fill" />
                        </Grid>
                        <Grid Grid.Column="2">
                            <TextBlock
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Text="{snet:Loc 清空}"
                                TextAlignment="Center" />
                        </Grid>
                    </Grid>
                </Button>

                <!--  数据框  -->
                <TextBox
                    Margin="5"
                    AcceptsReturn="True"
                    BorderThickness="0,0,0,0"
                    Foreground="{DynamicResource MaterialDesign.Brush.Secondary}"
                    IsReadOnly="True"
                    Style="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}"
                    Text="{Binding Info}"
                    TextWrapping="Wrap"
                    VerticalScrollBarVisibility="Hidden">
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="TextChanged">
                            <snet:EventCommand Command="{Binding InfoTextChanged}" />
                        </i:EventTrigger>
                    </i:Interaction.Triggers>
                </TextBox>
            </Grid>
        </GroupBox>

    </Grid>

</snet:WindowBase>
